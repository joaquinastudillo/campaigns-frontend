(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],m=0,p=[];m<i.length;m++)o=i[m],s[o]&&p.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"14a8":function(t,e,a){"use strict";var n=a("6d35"),s=a.n(n);s.a},2086:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},r=[],o={name:"app",components:{}},i=o,c=a("2877"),l=Object(c["a"])(i,s,r,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,m=a("2f62"),p=a("bc3a"),d=a.n(p);n["a"].use(m["a"]),d.a.defaults.baseURL="https://campaignsapi.herokuapp.com/api";var v=new m["a"].Store({state:{token:localStorage.getItem("access_token")||null,campaigns:[],stores:[],products:[]},getters:{loggedIn:function(t){return null!==t.token},campaigns:function(t){return t.campaigns},stores:function(t){return t.stores},products:function(t){return t.products}},actions:{retrieveProducts:function(t){d.a.get("/products").then(function(e){t.commit("retrieveProducts",e.data.data)})},retrieveStores:function(t){d.a.get("/stores").then(function(e){t.commit("retrieveStores",e.data.data)})},retrieveCampaigns:function(t){d.a.get("/campaigns").then(function(e){t.commit("retrieveCampaigns",e.data.data)})},retrieveToken:function(t,e){return new Promise(function(a,n){d.a.post("/login",{username:e.username,password:e.password}).then(function(e){var n=e.data.access_token;localStorage.setItem("access_token",n),t.commit("retrieveToken",n),a(e)}).catch(function(t){n(t)})})},destroyToken:function(t){if(d.a.defaults.headers.common["Authorization"]="Bearer "+t.state.token,t.getters.loggedIn)return new Promise(function(e,a){d.a.post("/logout").then(function(a){localStorage.removeItem("access_token"),t.commit("destroyToken"),e(a)}).catch(function(e){localStorage.removeItem("access_token"),t.commit("destroyToken"),a(e)})})}},mutations:{retrieveProducts:function(t,e){t.products=e},retrieveStores:function(t,e){t.stores=e},retrieveCampaigns:function(t,e){t.campaigns=e},retrieveToken:function(t,e){t.token=e},destroyToken:function(t){t.token=null}}}),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("img",{staticClass:"mb-4",attrs:{src:"",alt:"",width:"72",height:"72"}}),a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign in")]),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:"",autocomplete:"off"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:"",autocomplete:"off"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(0),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign in")]),a("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("Â© 2017-2018")])])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkbox mb-3"},[a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" Remember me\n            ")])])}],h={name:"LoginApp",data:function(){return{username:"",password:""}},methods:{login:function(){var t=this;this.$store.dispatch("retrieveToken",{username:this.username,password:this.password}).then(function(e){t.$router.push({name:"dashboard"})})}}},b=h,_=Object(c["a"])(b,f,g,!1,null,null,null);_.options.__file="Login.vue";var C=_.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Navbar")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[a("div",{staticClass:"navbar-nav"},[t._m(1),a("a",{staticClass:"nav-item nav-link",attrs:{href:"#"}},[t._v("Features")]),a("a",{staticClass:"nav-item nav-link",attrs:{href:"#"}},[t._v("Pricing")]),a("a",{staticClass:"nav-item nav-link disabled",attrs:{href:"#"}},[t._v("Disabled")]),a("a",{staticClass:"nav-item nav-link",on:{click:t.logOut}},[t._v("Logout")])])])]),a("div",{staticClass:"container main-navbar"},[a("nav",{staticClass:"nav nav-pills flex-column flex-sm-row"},[a("a",{staticClass:"flex-sm-fill text-sm-center nav-link active",on:{click:t.getCampaigns}},[t._v("Campaigns")]),a("a",{staticClass:"flex-sm-fill text-sm-center nav-link",attrs:{href:"#"}},[t._v("Link")]),a("a",{staticClass:"flex-sm-fill text-sm-center nav-link",attrs:{href:"#"}},[t._v("Link")]),a("a",{staticClass:"flex-sm-fill text-sm-center nav-link disabled",attrs:{href:"#"}},[t._v("Disabled")])])]),a("div",{staticClass:"container main-navbar"},[a("router-view")],1)])},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"nav-item nav-link active",attrs:{href:"#"}},[t._v("Home "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])}],x={name:"MainApp",methods:{logOut:function(){this.$router.push({name:"logout"})},getCampaigns:function(){this.$router.push({name:"campaigns"})}}},y=x,P=(a("f4d7"),Object(c["a"])(y,w,k,!1,null,null,null));P.options.__file="Main.vue";var $=P.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},E=[],O={name:"LogoutApp",created:function(){var t=this;this.$store.dispatch("destroyToken").then(function(){t.$router.push({name:"login"})})}},j=O,T=Object(c["a"])(j,S,E,!1,null,null,null);T.options.__file="Logout.vue";var I=T.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"display-4"},[t._v("Campaigns")]),a("div",{staticClass:"d-flex flex-row-reverse"},[a("div",{staticClass:"p-2"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.createCampaign}},[t._v("Create new")])]),a("div",{staticClass:"p-2"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.showCampaigns}},[t._v("View Campaigns")])])]),a("router-view")],1)},N=[],A={name:"CampaignView",methods:{showCampaigns:function(){this.$router.push({name:"campaignView"})},createCampaign:function(){this.$router.push({name:"campaignNew"})}}},L=A,M=Object(c["a"])(L,F,N,!1,null,null,null);M.options.__file="CampaignView.vue";var q=M.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("br"),a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-md-4"}),a("div",{staticClass:"col-md-4"}),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])]),t._l(t.campaigns,function(t){return a("campaign-item",{key:t.id,attrs:{campaign:t}})})],2)},D=[],U=(a("386d"),a("7f7f"),a("4917"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media main-navbar campaign-item"},[a("div",{staticClass:"media-body"},[a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(t.name))]),t._v("\n                "+t._s(t.description)+"\n            ")]),1==t.status?a("div",{staticClass:"ml-3 success-box"},[t._v("\n                Created\n            ")]):2==t.status?a("div",{staticClass:"ml-3 warning-box"},[t._v("\n                Between\n            ")]):a("div",{staticClass:"ml-3 danger-box"},[t._v("\n                Closed\n            ")])])}),B=[],J={name:"CampaignItem",data:function(){return{id:this.campaign.id,description:this.campaign.description,name:this.campaign.name,status:this.campaign.status,user_id:this.campaign.user_id}},props:{campaign:{type:Object,required:!0}}},R=J,z=(a("14a8"),Object(c["a"])(R,U,B,!1,null,null,null));z.options.__file="CampaignItem.vue";var H=z.exports,G={name:"CampaignList",data:function(){return{search:""}},components:{CampaignItem:H},created:function(){this.$store.dispatch("retrieveCampaigns")},computed:{campaigns:function(){var t=this;return this.$store.getters.campaigns.filter(function(e){return e.name.toUpperCase().match(t.search.toUpperCase())})}}},K=G,Q=Object(c["a"])(K,V,D,!1,null,null,null);Q.options.__file="CampaignList.vue";var W=Q.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Create new campaign")]),a("form",{on:{submit:function(t){t.preventDefault()}}},[t._m(0),t._m(1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Stores")]),a("multiselect",{attrs:{placeholder:"Search Store",label:"name","track-by":"name",options:t.optionsForStores,multiple:!0},on:{tag:t.addTagForStores},model:{value:t.stores,callback:function(e){t.stores=e},expression:"stores"}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Products")]),a("multiselect",{attrs:{placeholder:"Search Product",label:"name","track-by":"name",options:t.optionsForProducts,multiple:!0},on:{tag:t.addTagForProducts},model:{value:t.products,callback:function(e){t.products=e},expression:"products"}})],1),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])])])},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Name")]),a("input",{staticClass:"form-control",attrs:{type:"text"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Description")]),a("textarea",{staticClass:"form-control"})])}],Z=a("8e5f"),tt=a.n(Z),et={name:"CampaignItem",components:{Multiselect:tt.a},data:function(){return{stores:[],products:[]}},created:function(){this.$store.dispatch("retrieveStores"),this.$store.dispatch("retrieveProducts")},computed:{optionsForStores:function(){return this.$store.getters.stores},optionsForProducts:function(){return this.$store.getters.products}},methods:{addTagForStores:function(t){var e={title:t,desc:"lala"};this.optionsForStores.push(e)},addTagForProducts:function(t){var e={title:t,desc:"lala"};this.optionsForProducts.push(e)}}},at=et,nt=(a("60bc"),Object(c["a"])(at,X,Y,!1,null,null,null));nt.options.__file="CampaignNew.vue";var st=nt.exports,rt=[{path:"",component:C,name:"login",meta:{requiresVisitor:!0}},{path:"/dashboard",component:$,name:"dashboard",meta:{requiresAuth:!0},children:[{path:"campaigns",component:q,name:"campaigns",children:[{path:"view",component:W,name:"campaignView"},{path:"new",component:st,name:"campaignNew"}]}]},{path:"/logout",component:I,name:"logout"}],ot=a("8c4f");n["a"].config.productionTip=!1,n["a"].use(ot["a"]);var it=new ot["a"]({routes:rt,mode:"history"});it.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.requiresAuth})?v.getters.loggedIn?a():a({name:"login"}):t.matched.some(function(t){return t.meta.requiresVisitor})&&v.getters.loggedIn?a({name:"dashboard"}):a()}),new n["a"]({render:function(t){return t(u)},store:v,router:it}).$mount("#app")},"6d35":function(t,e,a){},f4d7:function(t,e,a){"use strict";var n=a("2086"),s=a.n(n);s.a}});
//# sourceMappingURL=app.10f838e6.js.map